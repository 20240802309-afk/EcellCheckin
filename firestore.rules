rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // 1. PUBLIC: Keep your existing RSVP form working
    match /rsvp_innovate_2026/{document=**} {
      allow read, write: if true;
    }

    // 2. ADMIN ONLY: Allow You to read/write registrations
    // Assuming your collection is named 'registrations' based on the code
    match /registrations/{document=**} {
       allow read, write: if request.auth != null;
    }

    // 2b. If you used 'events' structure from the prompt example
    match /events/{eventId} {
      allow read, write: if request.auth != null;
      
      match /attendees/{attendeeId} {
        allow read, write: if request.auth != null;
      }
    }
  }
}
